<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tentang Kesempatan Kedua</title>
  <style>
    /* Reset */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: #f1f1f1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      min-height: 100vh;
      padding: 30px 15px;
    }

    h1 {
      font-size: 2.5rem;
      margin-bottom: 20px;
      font-weight: bold;
      text-align: center;
      letter-spacing: 1px;
      animation: fadeDown 0.8s ease forwards;
    }

    .content {
      max-width: 800px;
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      padding: 25px 30px;
      border-radius: 20px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
      line-height: 1.7;
      font-size: 1.05rem;
      text-align: left;
      opacity: 0;
      animation: fadeIn 1s ease forwards 0.4s;
    }

    .content p {
      margin-bottom: 15px;
    }

    footer {
      margin-top: 30px;
      font-size: 0.9rem;
      color: #e5e5e5;
      max-width: 650px;
      text-align: center;
      opacity: 0;
      transform: translateY(20px);
      animation: fadeUp 0.8s ease forwards 1.2s;
    }

    footer p {
      margin-bottom: 8px;
    }

    footer small {
      font-style: italic;
      opacity: 0.8;
    }

    /* Animations */
    @keyframes fadeDown {
      from { opacity: 0; transform: translateY(-20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes fadeUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* Responsive */
    @media (max-width: 768px) {
      h1 {
        font-size: 2rem;
      }
      .content {
        padding: 20px;
        font-size: 1rem;
      }
      footer {
        font-size: 0.85rem;
      }
    }
  </style>
</head>
<body>

  <h1>Mohon Maaf</h1>

  <div class="content">
    <p>demi hati yang lebih tenang, saya sudah menghapus konten sebelumnya. 
    Ada hal-hal yang membuat saya merasa bersalah, dan untuk itu saya memilih melepaskannya.</p>

    <p>Tapi dari semua ini, ada pelajaran kecil yang bisa kita ambil:</p>

    <p><b>Kesempatan itu tidak datang dua kali.</b> Apa yang hilang kemarin, mungkin tak akan pernah kembali.</p>

    <p><b>Kesempatan kedua itu anugerah.</b> Tidak semua orang mendapatkannya, maka jika kamu diberi, gunakan dengan sebaik-baiknya.</p>

    <p><b>Hati yang tenang</b> lebih berharga dari pencapaian apapun. Karena dari situlah semua langkah kita bisa jadi lebih ringan.</p>

    <p>Jadi, kalau kamu membaca ini, anggaplah hari kemarin adalah “ujian kecil”. 
    Dan hari ini adalah kesempatan emasmu yang baru.</p>
  </div>

</body>
</html>
34", word: "shaft" },
                { number: "56", word: "gear" },
                { number: "78", word: "bearing" },
                { number: "90", word: "piston" },
                { number: "23", word: "valve" },
                { number: "45", word: "sensor" },
                { number: "67", word: "module" },
                { number: "89", word: "circuit" }
            ],
            buah: [
                { number: "11", word: "apel" },
                { number: "22", word: "jeruk" },
                { number: "33", word: "mangga" },
                { number: "44", word: "anggur" },
                { number: "55", word: "pisang" },
                { number: "66", word: "semangka" },
                { number: "77", word: "melon" },
                { number: "88", word: "nanas" },
                { number: "99", word: "pepaya" },
                { number: "100", word: "durian" }
            ],
            warna: [
                { number: "101", word: "merah" },
                { number: "202", word: "biru" },
                { number: "303", word: "hijau" },
                { number: "404", word: "kuning" },
                { number: "505", word: "ungu" },
                { number: "606", word: "orange" },
                { number: "707", word: "pink" },
                { number: "808", word: "coklat" },
                { number: "909", word: "hitam" },
                { number: "110", word: "putih" }
            ],
            kota: [
                { number: "123", word: "jakarta" },
                { number: "456", word: "bandung" },
                { number: "789", word: "surabaya" },
                { number: "321", word: "medan" },
                { number: "654", word: "yogyakarta" },
                { number: "987", word: "bali" },
                { number: "135", word: "palembang" },
                { number: "246", word: "makassar" },
                { number: "357", word: "batam" },
                { number: "468", word: "pekanbaru" }
            ],
            negara: [
                { number: "111", word: "indonesia" },
                { number: "222", word: "malaysia" },
                { number: "333", word: "singapura" },
                { number: "444", word: "thailand" },
                { number: "555", word: "vietnam" },
                { number: "666", word: "jepang" },
                { number: "777", word: "korea" },
                { number: "888", word: "amerika" },
                { number: "999", word: "inggris" },
                { number: "000", word: "australia" }
            ],
            olahraga: [
                { number: "112", word: "sepakbola" },
                { number: "223", word: "badminton" },
                { number: "334", word: "basket" },
                { number: "445", word: "tenis" },
                { number: "556", word: "renang" }
            ],
            profesi: [
                { number: "121", word: "dokter" },
                { number: "232", word: "guru" },
                { number: "343", word: "polisi" },
                { number: "454", word: "programmer" },
                { number: "565", word: "arsitek" }
            ],
            transportasi: [
                { number: "131", word: "mobil" },
                { number: "242", word: "motor" },
                { number: "353", word: "pesawat" },
                { number: "464", word: "kereta" },
                { number: "575", word: "kapal" }
            ]
        };

        // Elemen DOM
        const startScreen = document.getElementById('startScreen');
        const categorySelector = document.getElementById('categorySelector');
        const startBtn = document.getElementById('startBtn');
        const resetBtn = document.getElementById('resetBtn');
        const displayContainer = document.getElementById('displayContainer');
        const numberDisplay = document.getElementById('numberDisplay');
        const wordDisplay = document.getElementById('wordDisplay');
        const questionContainer = document.getElementById('questionContainer');
        const questionText = document.getElementById('questionText');
        const optionsContainer = document.getElementById('optionsContainer');
        const nextBtn = document.getElementById('nextBtn');
        const historyBtn = document.getElementById('historyBtn');
        const historyContainer = document.getElementById('historyContainer');
        const historyList = document.getElementById('historyList');
        const backBtn = document.getElementById('backBtn');
        const darkModeToggle = document.getElementById('darkModeToggle');
        const mainContainer = document.getElementById('mainContainer');

        // Variabel kontrol
        let availableAssociations = [];
        let usedAssociations = {};
        let currentPairs = [];
        let currentIndex = 0;
        let timer;
        let secondsLeft = 3.5;
        let currentQuestion = {};
        let scoreHistory = JSON.parse(localStorage.getItem('scoreHistory')) || [];
        let selectedCategory = null;

        // Inisialisasi
        initialize();

        function initialize() {
            // Set dark mode jika ada preferensi
            if (localStorage.getItem('darkMode') === 'true') {
                document.body.classList.add('dark-mode');
                darkModeToggle.innerHTML = '<i class="fas fa-sun"></i>';
            }
            
            // Inisialisasi usedAssociations untuk setiap kategori
            Object.keys(associationDatabase).forEach(category => {
                usedAssociations[category] = [];
            });
            
            // Tampilkan pilihan kategori
            renderCategorySelector();
            
            // Tampilkan riwayat jika ada
            renderHistory();
        }

        // Fungsi untuk menampilkan pilihan kategori
        function renderCategorySelector() {
            categorySelector.innerHTML = '';
            
            Object.keys(associationDatabase).forEach(category => {
                const button = document.createElement('button');
                button.classList.add('category-btn');
                button.textContent = category;
                button.addEventListener('click', () => {
                    // Hapus seleksi dari semua tombol
                    document.querySelectorAll('.category-btn').forEach(btn => {
                        btn.classList.remove('selected');
                    });
                    
                    // Tandai kategori yang dipilih
                    button.classList.add('selected');
                    selectedCategory = category;
                });
                
                categorySelector.appendChild(button);
            });
            
            // Pilih kategori pertama secara default
            if (Object.keys(associationDatabase).length > 0) {
                const firstCategory = Object.keys(associationDatabase)[0];
                selectedCategory = firstCategory;
                document.querySelector('.category-btn').classList.add('selected');
            }
        }

        // Fungsi untuk mereset asosiasi yang tersedia
        function resetAvailableAssociations() {
            if (!selectedCategory) return;
            
            // Jika sudah menggunakan lebih dari 80% database, reset penggunaannya
            if (usedAssociations[selectedCategory].length > 0.8 * associationDatabase[selectedCategory].length) {
                usedAssociations[selectedCategory] = [];
            }
            
            // Buat daftar asosiasi yang belum digunakan
            availableAssociations = associationDatabase[selectedCategory].filter(assoc => 
                !usedAssociations[selectedCategory].some(used => 
                    used.number === assoc.number && used.word === assoc.word
                )
            );
            
            // Acak urutan asosiasi
            for (let i = availableAssociations.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [availableAssociations[i], availableAssociations[j]] = [availableAssociations[j], availableAssociations[i]];
            }
        }

        // Fungsi untuk memulai sesi belajar
        function startLearningSession() {
            if (!selectedCategory) {
                alert('Pilih kategori terlebih dahulu!');
                return;
            }
            
            startScreen.style.display = 'none';
            displayContainer.style.display = 'flex';
            questionContainer.style.display = 'none';
            
            // Reset asosiasi yang tersedia untuk kategori yang dipilih
            resetAvailableAssociations();
            
            // Jika tidak cukup asosiasi tersedia, reset
            if (availableAssociations.length < 4) {
                usedAssociations[selectedCategory] = [];
                resetAvailableAssociations();
            }
            
            // Pilih 4 pasangan acak dari asosiasi yang tersedia
            currentPairs = availableAssociations.slice(0, 4);
            
            // Pindahkan ke usedAssociations
            usedAssociations[selectedCategory].push(...currentPairs);
            availableAssociations = availableAssociations.slice(4);
            
            currentIndex = 0;
            
            // Tampilkan pasangan pertama
            showNextPair();
        }

        // Fungsi untuk menampilkan pasangan berikutnya
        function showNextPair() {
            clearInterval(timer);
            
            if (currentIndex < currentPairs.length) {
                const pair = currentPairs[currentIndex];
                numberDisplay.textContent = pair.number;
                wordDisplay.textContent = pair.word;
                secondsLeft = 3.5;
                
                timer = setInterval(() => {
                    secondsLeft -= 0.1;
                    
                    if (secondsLeft <= 0) {
                        clearInterval(timer);
                        currentIndex++;
                        showNextPair();
                    }
                }, 100);
            } else {
                // Selesai menampilkan pasangan, tampilkan pertanyaan
                showQuestion();
            }
        }

        // Fungsi untuk menampilkan pertanyaan
        function showQuestion() {
            clearInterval(timer);
            displayContainer.style.display = 'none';
            questionContainer.style.display = 'block';
            
            // Pilih pasangan acak dari yang sudah ditampilkan
            const randomPair = currentPairs[Math.floor(Math.random() * currentPairs.length)];
            
            // Pilih jenis pertanyaan acak
            const isNumberToWord = Math.random() > 0.5;
            
            if (isNumberToWord) {
                // Pertanyaan angka ke kata
                currentQuestion = {
                    type: 'numberToWord',
                    question: `${randomPair.number} adalah?`,
                    correctAnswer: randomPair.word,
                    options: [randomPair.word]
                };
                
                // Tambahkan opsi salah dari pasangan lain dalam kategori yang sama
                const otherPairs = currentPairs.filter(p => p !== randomPair);
                while (currentQuestion.options.length < 4 && otherPairs.length > 0) {
                    const randomOption = otherPairs[Math.floor(Math.random() * otherPairs.length)].word;
                    if (!currentQuestion.options.includes(randomOption)) {
                        currentQuestion.options.push(randomOption);
                        // Hapus dari otherPairs untuk menghindari duplikat
                        otherPairs.splice(otherPairs.findIndex(p => p.word === randomOption), 1);
                    }
                }
                
                // Jika masih kurang, ambil dari asosiasi lain dalam kategori yang sama
                while (currentQuestion.options.length < 4 && availableAssociations.length > 0) {
                    const randomAssoc = availableAssociations[Math.floor(Math.random() * availableAssociations.length)];
                    if (!currentQuestion.options.includes(randomAssoc.word)) {
                        currentQuestion.options.push(randomAssoc.word);
                    }
                }
            } else {
                // Pertanyaan kata ke angka
                currentQuestion = {
                    type: 'wordToNumber',
                    question: `${randomPair.word} adalah?`,
                    correctAnswer: randomPair.number,
                    options: [randomPair.number]
                };
                
                // Tambahkan opsi salah dari pasangan lain dalam kategori yang sama
                const otherPairs = currentPairs.filter(p => p !== randomPair);
                while (currentQuestion.options.length < 4 && otherPairs.length > 0) {
                    const randomOption = otherPairs[Math.floor(Math.random() * otherPairs.length)].number;
                    if (!currentQuestion.options.includes(randomOption)) {
                        currentQuestion.options.push(randomOption);
                        // Hapus dari otherPairs untuk menghindari duplikat
                        otherPairs.splice(otherPairs.findIndex(p => p.number === randomOption), 1);
                    }
                }
                
                // Jika masih kurang, ambil dari asosiasi lain dalam kategori yang sama
                while (currentQuestion.options.length < 4 && availableAssociations.length > 0) {
                    const randomAssoc = availableAssociations[Math.floor(Math.random() * availableAssociations.length)];
                    if (!currentQuestion.options.includes(randomAssoc.number)) {
                        currentQuestion.options.push(randomAssoc.number);
                    }
                }
            }
            
            // Acak urutan opsi
            currentQuestion.options = shuffleArray(currentQuestion.options);
            
            // Tampilkan pertanyaan
            questionText.textContent = currentQuestion.question;
            optionsContainer.innerHTML = '';
            
            // Tampilkan opsi
            currentQuestion.options.forEach(option => {
                const optionElement = document.createElement('div');
                optionElement.classList.add('option');
                optionElement.textContent = option;
                optionElement.addEventListener('click', () => checkAnswer(option, optionElement));
                optionsContainer.appendChild(optionElement);
            });
            
            nextBtn.style.display = 'none';
        }

        // Fungsi untuk memeriksa jawaban
        function checkAnswer(selectedOption, optionElement) {
            const isCorrect = selectedOption === currentQuestion.correctAnswer;
            
            // Tandai semua opsi
            const options = document.querySelectorAll('.option');
            options.forEach(opt => {
                opt.style.pointerEvents = 'none';
                
                if (opt.textContent === currentQuestion.correctAnswer) {
                    opt.classList.add('correct');
                } else if (opt === optionElement && !isCorrect) {
                    opt.classList.add('wrong');
                }
            });
            
            nextBtn.style.display = 'block';
        }

        // Fungsi untuk mengacak array
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // Fungsi untuk menampilkan riwayat
        function renderHistory() {
            historyList.innerHTML = '';
            
            if (scoreHistory.length === 0) {
                historyList.innerHTML = '<div style="text-align: center; padding: 20px;">Belum ada riwayat skor</div>';
                return;
            }
            
            scoreHistory.forEach((score, index) => {
                const historyItem = document.createElement('div');
                historyItem.classList.add('history-item');
                
                const date = new Date(score.date);
                const dateStr = date.toLocaleDateString('id-ID', {
                    day: 'numeric',
                    month: 'long',
                    year: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                });
                
                historyItem.innerHTML = `
                    <div>
                        <div>Sesi ${index + 1} (${score.category})</div>
                        <div style="font-size: 0.9rem; opacity: 0.8;">${dateStr}</div>
                    </div>
                    <div style="font-weight: bold; color: var(--primary-color);">${score.correct}/${score.total}</div>
                `;
                
                historyList.appendChild(historyItem);
            });
        }

        // Event listeners
        startBtn.addEventListener('click', startLearningSession);
        
        resetBtn.addEventListener('click', function() {
            // Reset asosiasi dan mulai sesi baru
            resetAvailableAssociations();
            startLearningSession();
        });
        
        nextBtn.addEventListener('click', startLearningSession);
        
        historyBtn.addEventListener('click', function() {
            mainContainer.style.display = 'none';
            historyContainer.style.display = 'block';
        });
        
        backBtn.addEventListener('click', function() {
            historyContainer.style.display = 'none';
            mainContainer.style.display = 'block';
        });
        
        darkModeToggle.addEventListener('click', function() {
            document.body.classList.toggle('dark-mode');
            const isDarkMode = document.body.classList.contains('dark-mode');
            localStorage.setItem('darkMode', isDarkMode);
            
            if (isDarkMode) {
                darkModeToggle.innerHTML = '<i class="fas fa-sun"></i>';
            } else {
                darkModeToggle.innerHTML = '<i class="fas fa-moon"></i>';
            }
        });
    </script>
</body>
</html>




